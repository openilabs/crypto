OVERRIDE={window:window,navigator:navigator};var require=function(a,b){var c=require.resolve(a,b||"/"),d=require.modules[c];if(!d)throw new Error("Failed to resolve module "+a+", tried "+c);var e=require.cache[c],f=e?e.exports:d();return f};require.paths=[],require.modules={},require.cache={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(a,b){function j(a){var b;a==="/"?b=[""]:b=c.normalize(a).split("/");var d=[];for(var e=b.length-1;e>=0;e--){if(b[e]==="node_modules")continue;var f=b.slice(0,e+1).join("/")+"/node_modules";d.push(f)}return d}function i(a,b){var c=j(b);for(var d=0;d<c.length;d++){var e=c[d],f=g(e+"/"+a);if(f)return f;var i=h(e+"/"+a);if(i)return i}var f=g(a);if(f)return f}function h(a){a=a.replace(/\/+$/,"");var b=c.normalize(a+"/package.json");if(require.modules[b]){var d=require.modules[b](),e=d.browserify;if(typeof e=="object"&&e.main){var f=g(c.resolve(a,e.main));if(f)return f}else if(typeof e=="string"){var f=g(c.resolve(a,e));if(f)return f}else if(d.main){var f=g(c.resolve(a,d.main));if(f)return f}}return g(a+"/index")}function g(a){a=c.normalize(a);if(require.modules[a])return a;for(var b=0;b<require.extensions.length;b++){var d=require.extensions[b];if(require.modules[a+d])return a+d}}b||(b="/");if(require._core[a])return a;var c=require.modules.path();b=c.resolve("/",b);var d=b||"/";if(a.match(/^(?:\.\.?\/|\/)/)){var e=g(c.resolve(d,a))||h(c.resolve(d,a));if(e)return e}var f=i(a,d);if(f)return f;throw new Error("Cannot find module '"+a+"'")}}(),require.alias=function(a,b){var c=require.modules.path(),d=null;try{d=require.resolve(a+"/package.json","/")}catch(e){d=require.resolve(a,"/")}var f=c.dirname(d),g=(Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b})(require.modules);for(var h=0;h<g.length;h++){var i=g[h];if(i.slice(0,f.length+1)===f+"/"){var j=i.slice(f.length);require.modules[b+j]=require.modules[f+j]}else i===f&&(require.modules[b]=require.modules[f])}},function(){var a={};require.define=function(b,c){require.modules.__browserify_process&&(a=require.modules.__browserify_process());var d=require._core[b]?"":require.modules.path().dirname(b),e=function(a){return require(a,d)};e.resolve=function(a){return require.resolve(a,d)},e.modules=require.modules,e.define=require.define,e.cache=require.cache;var f={exports:{}};require.modules[b]=function(){require.cache[b]=f,c.call(f.exports,e,f,f.exports,d,b,a);return f.exports}}}(),require.define("path",function(a,b,c,d,e,f){function h(a,b){var c=0;for(var d=a.length;d>=0;d--){var e=a[d];e=="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function g(a,b){var c=[];for(var d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var i=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;c.resolve=function(){var a="",b=!1;for(var c=arguments.length;c>=-1&&!b;c--){var d=c>=0?arguments[c]:f.cwd();if(typeof d!="string"||!d)continue;a=d+"/"+a,b=d.charAt(0)==="/"}a=h(g(a.split("/"),function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."},c.normalize=function(a){var b=a.charAt(0)==="/",c=a.slice(-1)==="/";a=h(g(a.split("/"),function(a){return!!a}),!b).join("/"),!a&&!b&&(a="."),a&&c&&(a+="/");return(b?"/":"")+a},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(g(a,function(a,b){return a&&typeof a=="string"}).join("/"))},c.dirname=function(a){var b=i.exec(a)[1]||"",c=!1;return b?b.length===1||c&&b.length<=3&&b.charAt(1)===":"?b:b.substring(0,b.length-1):"."},c.basename=function(a,b){var c=i.exec(a)[2]||"";b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length));return c},c.extname=function(a){return i.exec(a)[3]||""}}),require.define("__browserify_process",function(a,b,c,d,e,f){var f=b.exports={};f.nextTick=function(){var a=[],b=typeof window!="undefined"&&window.postMessage&&window.addEventListener;b&&window.addEventListener("message",function(b){if(b.source===window&&b.data==="browserify-tick"){b.stopPropagation();if(a.length>0){var c=a.shift();c()}}},!0);return function(c){b?(a.push(c),window.postMessage("browserify-tick","*")):setTimeout(c,0)}}(),f.title="browser",f.browser=!0,f.env={},f.argv=[],f.binding=function(b){if(b==="evals")return a("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var b="/",c;f.cwd=function(){return b},f.chdir=function(d){c||(c=a("path")),b=c.resolve(d,b)}}()}),require.define("/lib/jwcrypto.js",function(a,b,c,d,e,f){function p(a){this.message=a,this.toString=function(){return"malformed input: "+this.message}}function o(a){if(m)return a();n.push(a)}var g=a("./algs/index"),h=a("./utils"),i=h.delay,j=a("./rng"),k=a("./version"),l=new j.RNG,m=!1,n=[];l.autoseed(function(){m=!0;for(var a=0;a<n.length;a++)n[a]();n=null}),c.generateKeypair=function(a,b){b=i(b);var c=g.ALGS[a.algorithm];if(!c)throw new g.NotImplementedException("algorithm "+a.algorithm+" not implemented");o(function(){c.generate(a.keysize,l,b)})},c.loadPublicKey=function(a){return g.PublicKey.deserialize(a)},c.loadPublicKeyFromObject=function(a){return g.PublicKey.fromSimpleObject(a)},c.loadSecretKey=function(a){return g.SecretKey.deserialize(a)},c.loadSecretKeyFromObject=function(a){return g.SecretKey.fromSimpleObject(a)},c.sign=function(a,b,c){var d={alg:b.getAlgorithm()},e=h.base64urlencode(JSON.stringify(d)),f=h.base64urlencode(JSON.stringify(a));o(function(){b.sign(e+"."+f,l,function(){},function(a){var b=h.hex2b64urlencode(a);i(c)(null,e+"."+f+"."+b)})})};var q=function(a){if(typeof a!="string")throw new p("malformed signature");var b=a.split(".");if(b.length!==3)throw new p("signed object must have three parts, this one has "+b.length);var c=b[0],d=b[1],e=b[2],f=JSON.parse(h.base64urldecode(c)),g=JSON.parse(h.base64urldecode(d)),i=h.b64urltohex(e);return{header:f,payload:g,signature:i,headerSegment:c,payloadSegment:d,cryptoSegment:e}};c.extractComponents=q,c.verify=function(a,b,c){var d;c=i(c);try{d=q(a);if(b.getAlgorithm()!==d.header.alg){c("invalid signature");return}}catch(e){c("malformed signature");return}b.verify(d.headerSegment+"."+d.payloadSegment,d.signature,function(a,b){return a?c("malformed signature"):b?c(null,d.payload):c("invalid signature")})},c.addEntropy=function(a){l.addEntropy(a)},c.assertion=a("./assertion"),c.cert=a("./cert"),c.getDataFormatVersion=k.getDataFormatVersion,c.setDataFormatVersion=k.setDataFormatVersion}),require.define("/lib/algs/index.js",function(a,b,c,d,e,f){function m(){}function l(){}function j(){this.publicKey=null,this.secretKey=null,this.algorithm=null,this.keysize=null}function i(a){this.message=a,this.toString=function(){return"Not implemented: "+this.message}}function h(a){this.message=a,this.toString=function(){return"Key size not supported: "+this.message}}var g={},k=function(){return this.algorithm+this.keysize.toString()};j.prototype={getAlgorithm:k},c.register=function(a,b){g[a]=b},l.prototype={toSimpleObject:function(){var a={algorithm:this.algorithm};this.serializeToObject(a);return a},serialize:function(){return JSON.stringify(this.toSimpleObject())},getAlgorithm:k},l.fromSimpleObject=function(a){if(!g[a.algorithm])throw new i("no such algorithm: "+a.algorithm);var b=new g[a.algorithm].PublicKey;b.algorithm=a.algorithm,b.deserializeFromObject(a);return b},l.deserialize=function(a){var b=JSON.parse(a);return l.fromSimpleObject(b)},m.prototype={toSimpleObject:function(){var a={algorithm:this.algorithm};this.serializeToObject(a);return a},serialize:function(){return JSON.stringify(this.toSimpleObject())},getAlgorithm:k},m.fromSimpleObject=function(a){if(!g[a.algorithm])throw new i("no such algorithm: "+a.algorithm);var b=new g[a.algorithm].SecretKey;b.algorithm=a.algorithm,b.deserializeFromObject(a);return b},m.deserialize=function(a){var b=JSON.parse(a);return m.fromSimpleObject(b)},c.ALGS=g,c.PublicKey=l,c.SecretKey=m,c.KeyPair=j,c.KeySizeNotSupportedException=h,c.NotImplementedException=i}),require.define("/lib/utils.js",function(a,b,c,d,e,f){function r(a){var b=function(){var b=arguments;f.nextTick(function(){a.apply(a,b)})};return b}function q(a){if(!a)return null;var b=new Date;b.setTime(a);return b}function p(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}function o(a){var b=a;b=b.replace(/-/g,"+"),b=b.replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw new h("Illegal base64url string!")}return i.atob(b)}function n(a){var b=i.btoa(a);b=b.split("=")[0],b=b.replace(/\+/g,"-"),b=b.replace(/\//g,"_");return b}function m(a){a.length%2!==0&&(a="0"+a);return g.hex2b64(a).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_")}function l(a){var b="",c,d=0,e;for(c=0;c<a.length;++c){var f=k.indexOf(a.charAt(c));if(f<0)continue;d===0?(b+=j(f>>2),e=f&3,d=1):d===1?(b+=j(e<<2|f>>4),e=f&15,d=2):d===2?(b+=j(e),b+=j(f>>2),e=f&3,d=3):(b+=j(e<<2|f>>4),b+=j(f&15),d=0)}d===1&&(b+=j(e<<2));return b[0]==="0"?b.substring(1):b}function h(a){this.message=a,this.toString=function(){return"Malformed input: "+this.message}}var g=a("../libs/minimal");if(typeof i=="undefined")var i=g.window;var j=g.int2char,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";c.b64urltohex=l,c.hex2b64urlencode=m,c.base64urldecode=o,c.base64urlencode=n,c.copyInto=p,c.getDate=q,c.delay=r}),require.define("/libs/minimal.js",function(a,b,c,d,e,f){function cX(a){var b=this.subtract(U.ONE),c=b.getLowestSetBit();if(c<=0)return!1;var d=b.shiftRight(c);a=a+1>>1,a>cU.length&&(a=cU.length);var e=V();for(var f=0;f<a;++f){e.fromInt(cU[f]);var g=e.modPow(d,this);if(g.compareTo(U.ONE)!=0&&g.compareTo(b)!=0){var h=1;while(h++<c&&g.compareTo(b)!=0){g=g.modPowInt(2,this);if(g.compareTo(U.ONE)==0)return!1}if(g.compareTo(b)!=0)return!1}}return!0}function cW(a){var b,c=this.abs();if(c.t==1&&c.arr[0]<=cU[cU.length-1]){for(b=0;b<cU.length;++b)if(c.arr[0]==cU[b])return!0;return!1}if(c.isEven())return!1;b=1;while(b<cU.length){var d=cU[b],e=b+1;while(e<cU.length&&d<cV)d*=cU[e++];d=c.modInt(d);while(b<e)if(d%cU[b++]==0)return!1}return c.millerRabin(a)}function cT(a){var b=a.isEven();if(this.isEven()&&b||a.signum()==0)return U.ZERO;var c=a.clone(),d=this.clone(),e=bg(1),f=bg(0),g=bg(0),h=bg(1);while(c.signum()!=0){while(c.isEven()){c.rShiftTo(1,c);if(b){if(!e.isEven()||!f.isEven())e.addTo(this,e),f.subTo(a,f);e.rShiftTo(1,e)}else f.isEven()||f.subTo(a,f);f.rShiftTo(1,f)}while(d.isEven()){d.rShiftTo(1,d);if(b){if(!g.isEven()||!h.isEven())g.addTo(this,g),h.subTo(a,h);g.rShiftTo(1,g)}else h.isEven()||h.subTo(a,h);h.rShiftTo(1,h)}c.compareTo(d)>=0?(c.subTo(d,c),b&&e.subTo(g,e),f.subTo(h,f)):(d.subTo(c,d),b&&g.subTo(e,g),h.subTo(f,h))}if(d.compareTo(U.ONE)!=0)return U.ZERO;if(h.compareTo(a)>=0)return h.subtract(a);if(h.signum()<0)h.addTo(a,h);else return h;return h.signum()<0?h.add(a):h}function cS(a){if(a<=0)return 0;var b=this.DV%a,c=this.s<0?a-1:0;if(this.t>0)if(b==0)c=this.arr[0]%a;else for(var d=this.t-1;d>=0;--d)c=(b*c+this.arr[d])%a;return c}function cR(a){var b=this.s<0?this.negate():this.clone(),c=a.s<0?a.negate():a.clone();if(b.compareTo(c)<0){var d=b;b=c,c=d}var e=b.getLowestSetBit(),f=c.getLowestSetBit();if(f<0)return b;e<f&&(f=e),f>0&&(b.rShiftTo(f,b),c.rShiftTo(f,c));while(b.signum()>0)(e=b.getLowestSetBit())>0&&b.rShiftTo(e,b),(e=c.getLowestSetBit())>0&&c.rShiftTo(e,c),b.compareTo(c)>=0?(b.subTo(c,b),b.rShiftTo(1,b)):(c.subTo(b,c),c.rShiftTo(1,c));f>0&&c.lShiftTo(f,c);return c}function cQ(a,b){var c=a.bitLength(),d,e=bg(1),f;if(c<=0)return e;c<18?d=1:c<48?d=3:c<144?d=4:c<768?d=5:d=6,c<8?f=new by(b):b.isEven()?f=new cK(b):f=new bF(b);var g=[],h=3,i=d-1,j=(1<<d)-1;g[1]=f.convert(this);if(d>1){var k=V();f.sqrTo(g[1],k);while(h<=j)g[h]=V(),f.mulTo(k,g[h-2],g[h]),h+=2}var l=a.t-1,m,n=!0,o=V(),p;c=bn(a.arr[l])-1;while(l>=0){c>=i?m=a.arr[l]>>c-i&j:(m=(a.arr[l]&(1<<c+1)-1)<<i-c,l>0&&(m|=a.arr[l-1]>>this.DB+c-i)),h=d;while((m&1)==0)m>>=1,--h;(c-=h)<0&&(c+=this.DB,--l);if(n)g[m].copyTo(e),n=!1;else{while(h>1)f.sqrTo(e,o),f.sqrTo(o,e),h-=2;h>0?f.sqrTo(e,o):(p=e,e=o,o=p),f.mulTo(o,g[m],e)}while(l>=0&&(a.arr[l]&1<<c)==0)f.sqrTo(e,o),p=e,e=o,o=p,--c<0&&(c=this.DB-1,--l)}return f.revert(e)}function cP(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function cO(a,b){a.squareTo(b),this.reduce(b)}function cN(a){a.drShiftTo(this.m.t-1,this.r2),a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(a.compareTo(this.r2)<0)a.dAddOffset(1,this.m.t+1);a.subTo(this.r2,a);while(a.compareTo(this.m)>=0)a.subTo(this.m,a)}function cM(a){return a}function cL(a){if(a.s<0||a.t>2*this.m.t)return a.mod(this.m);if(a.compareTo(this.m)<0)return a;var b=V();a.copyTo(b),this.reduce(b);return b}function cK(a){this.r2=V(),this.q3=V(),U.ONE.dlShiftTo(2*a.t,this.r2),this.mu=this.r2.divide(a),this.m=a}function cJ(a,b,c){--b;var d=c.t=this.t+a.t-b;c.s=0;while(--d>=0)c.arr[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c.arr[this.t+d-b]=this.am(b-d,a.arr[d],c,0,0,this.t+d-b);c.clamp(),c.drShiftTo(1,c)}function cI(a,b,c){var d=Math.min(this.t+a.t,b);c.s=0,c.t=d;while(d>0)c.arr[--d]=0;var e;for(e=c.t-this.t;d<e;++d)c.arr[d+this.t]=this.am(0,a.arr[d],c,d,0,this.t);for(e=Math.min(a.t,b);d<e;++d)this.am(0,a.arr[d],c,d,0,b-d);c.clamp()}function cH(a){return this.exp(a,new cD)}function cG(a,b){a.squareTo(b)}function cF(a,b,c){a.multiplyTo(b,c)}function cE(a){return a}function cD(){}function cC(a,b){if(a!=0){while(this.t<=b)this.arr[this.t++]=0;this.arr[b]+=a;while(this.arr[b]>=this.DV)this.arr[b]-=this.DV,++b>=this.t&&(this.arr[this.t++]=0),++this.arr[b]}}function cB(a){this.arr[this.t]=this.am(0,a-1,this,0,0,this.t),++this.t,this.clamp()}function cA(a){var b=V(),c=V();this.divRemTo(a,b,c);return[b,c]}function cz(a){var b=V();this.divRemTo(a,null,b);return b}function cy(a){var b=V();this.divRemTo(a,b,null);return b}function cx(a){var b=V();this.multiplyTo(a,b);return b}function cw(a){var b=V();this.subTo(a,b);return b}function cv(a){var b=V();this.addTo(a,b);return b}function cu(a,b){var c=0,d=0,e=Math.min(a.t,this.t);while(c<e)d+=this.arr[c]+a.arr[c],b.arr[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){d+=a.s;while(c<this.t)d+=this.arr[c],b.arr[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{d+=this.s;while(c<a.t)d+=a.arr[c],b.arr[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=d<0?-1:0,d>0?b.arr[c++]=d:d<-1&&(b.arr[c++]=this.DV+d),b.t=c,b.clamp()}function ct(a){return this.changeBit(a,ce)}function cs(a){return this.changeBit(a,cg)}function cr(a){return this.changeBit(a,cc)}function cq(a,b){var c=U.ONE.shiftLeft(a);this.bitwiseTo(c,b,c);return c}function cp(a){var b=Math.floor(a/this.DB);return b>=this.t?this.s!=0:(this.arr[b]&1<<a%this.DB)!=0}function co(){var a=0,b=this.s&this.DM;for(var c=0;c<this.t;++c)a+=cn(this.arr[c]^b);return a}function cn(a){var b=0;while(a!=0)a&=a-1,++b;return b}function cm(){for(var a=0;a<this.t;++a)if(this.arr[a]!=0)return a*this.DB+cl(this.arr[a]);return this.s<0?this.t*this.DB:-1}function cl(a){if(a==0)return-1;var b=0;(a&65535)==0&&(a>>=16,b+=16),(a&255)==0&&(a>>=8,b+=8),(a&15)==0&&(a>>=4,b+=4),(a&3)==0&&(a>>=2,b+=2),(a&1)==0&&++b;return b}function ck(a){var b=V();a<0?this.lShiftTo(-a,b):this.rShiftTo(a,b);return b}function cj(a){var b=V();a<0?this.rShiftTo(-a,b):this.lShiftTo(a,b);return b}function ci(){var a=V();for(var b=0;b<this.t;++b)a.arr[b]=this.DM&~this.arr[b];a.t=this.t,a.s=~this.s;return a}function ch(a){var b=V();this.bitwiseTo(a,cg,b);return b}function cg(a,b){return a&~b}function cf(a){var b=V();this.bitwiseTo(a,ce,b);return b}function ce(a,b){return a^b}function cd(a){var b=V();this.bitwiseTo(a,cc,b);return b}function cc(a,b){return a|b}function cb(a){var b=V();this.bitwiseTo(a,ca,b);return b}function ca(a,b){return a&b}function b_(a,b,c){var d,e,f=Math.min(a.t,this.t);for(d=0;d<f;++d)c.arr[d]=b(this.arr[d],a.arr[d]);if(a.t<this.t){e=a.s&this.DM;for(d=f;d<this.t;++d)c.arr[d]=b(this.arr[d],e);c.t=this.t}else{e=this.s&this.DM;for(d=f;d<a.t;++d)c.arr[d]=b(e,a.arr[d]);c.t=a.t}c.s=b(this.s,a.s),c.clamp()}function b$(a){return this.compareTo(a)>0?this:a}function bZ(a){return this.compareTo(a)<0?this:a}function bY(a){return this.compareTo(a)==0}function bX(){var a=this.t,b=[];b.arr[0]=this.s;var c=this.DB-a*this.DB%8,d,e=0;if(a-->0){c<this.DB&&(d=this.arr[a]>>c)!=(this.s&this.DM)>>c&&(b.arr[e++]=d|this.s<<this.DB-c);while(a>=0){c<8?(d=(this.arr[a]&(1<<c)-1)<<8-c,d|=this.arr[--a]>>(c+=this.DB-8)):(d=this.arr[a]>>(c-=8)&255,c<=0&&(c+=this.DB,--a)),(d&128)!=0&&(d|=-256),e==0&&(this.s&128)!=(d&128)&&++e;if(e>0||d!=this.s)b.arr[e++]=d}}return b}function bW(a,b,c){if("number"==typeof b)if(a<2)this.fromInt(1);else{this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(U.ONE.shiftLeft(a-1),cc,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(b))this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(U.ONE.shiftLeft(a-1),this)}else{var d=[],e=a&7;d.length=(a>>3)+1,b.nextBytes(d),e>0?d[0]&=(1<<e)-1:d[0]=0,this.fromString(d,256)}}function bV(a,b){this.fromInt(0),b==null&&(b=10);var c=this.chunkSize(b),d=Math.pow(b,c),e=!1,f=0,g=0;for(var h=0;h<a.length;++h){var i=bd(a,h);if(i<0){a.charAt(h)=="-"&&this.signum()==0&&(e=!0);continue}g=b*g+i,++f>=c&&(this.dMultiply(d),this.dAddOffset(g,0),f=0,g=0)}f>0&&(this.dMultiply(Math.pow(b,f)),this.dAddOffset(g,0)),e&&U.ZERO.subTo(this,this)}function bU(a){a==null&&(a=10);if(this.signum()==0||a<2||a>36)return"0";var b=this.chunkSize(a),c=Math.pow(a,b),d=bg(c),e=V(),f=V(),g="";this.divRemTo(d,e,f);while(e.signum()>0)g=(c+f.intValue()).toString(a).substr(1)+g,e.divRemTo(d,e,f);return f.intValue().toString(a)+g}function bT(){return this.s<0?-1:this.t<=0||this.t==1&&this.arr[0]<=0?0:1}function bS(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}function bR(){return this.t==0?this.s:this.arr[0]<<16>>16}function bQ(){return this.t==0?this.s:this.arr[0]<<24>>24}function bP(){if(this.s<0){if(this.t==1)return this.arr[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.arr[0];if(this.t==0)return 0}return(this.arr[1]&(1<<32-this.DB)-1)<<this.DB|this.arr[0]}function bO(){var a=V();this.copyTo(a);return a}function bN(a,b){var c;a<256||b.isEven()?c=new by(b):c=new bF(b);return this.exp(a,c)}function bM(a,b){if(a>4294967295||a<1)return U.ONE;var c=V(),d=V(),e=b.convert(this),f=bn(a)-1;e.copyTo(c);while(--f>=0){b.sqrTo(c,d);if((a&1<<f)>0)b.mulTo(d,e,c);else{var g=c;c=d,d=g}}return b.revert(c)}function bL(){return(this.t>0?this.arr[0]&1:this.s)==0}function bK(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function bJ(a,b){a.squareTo(b),this.reduce(b)}function bI(a){while(a.t<=this.mt2)a.arr[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=a.arr[b]&32767,d=c*this.mpl+((c*this.mph+(a.arr[b]>>15)*this.mpl&this.um)<<15)&a.DM;c=b+this.m.t,a.arr[c]+=this.m.am(0,d,a,b,0,this.m.t);while(a.arr[c]>=a.DV)a.arr[c]-=a.DV,a.arr[++c]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function bH(a){var b=V();a.copyTo(b),this.reduce(b);return b}function bG(a){var b=V();a.abs().dlShiftTo(this.m.t,b),b.divRemTo(this.m,null,b),a.s<0&&b.compareTo(U.ZERO)>0&&this.m.subTo(b,b);return b}function bF(a){this.m=a,this.mp=a.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function bE(){if(this.t<1)return 0;var a=this.arr[0];if((a&1)==0)return 0;var b=a&3;b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV;return b>0?this.DV-b:-b}function bD(a,b){a.squareTo(b),this.reduce(b)}function bC(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function bB(a){a.divRemTo(this.m,null,a)}function bA(a){return a}function bz(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function by(a){this.m=a}function bx(a){var b=V();this.abs().divRemTo(a,null,b),this.s<0&&b.compareTo(U.ZERO)>0&&a.subTo(b,b);return b}function bw(a,b,c){var d=a.abs();if(!(d.t<=0)){var e=this.abs();if(e.t<d.t){b!=null&&b.fromInt(0),c!=null&&this.copyTo(c);return}c==null&&(c=V());var f=V(),g=this.s,h=a.s,i=this.DB-bn(d.arr[d.t-1]);i>0?(d.lShiftTo(i,f),e.lShiftTo(i,c)):(d.copyTo(f),e.copyTo(c));var j=f.t,k=f.arr[j-1];if(k==0)return;var l=k*(1<<this.F1)+(j>1?f.arr[j-2]>>this.F2:0),m=this.FV/l,n=(1<<this.F1)/l,o=1<<this.F2,p=c.t,q=p-j,r=b==null?V():b;f.dlShiftTo(q,r),c.compareTo(r)>=0&&(c.arr[c.t++]=1,c.subTo(r,c)),U.ONE.dlShiftTo(j,r),r.subTo(f,f);while(f.t<j)f.arr[f.t++]=0;while(--q>=0){var s=c.arr[--p]==k?this.DM:Math.floor(c.arr[p]*m+(c.arr[p-1]+o)*n);if((c.arr[p]+=f.am(0,s,c,q,0,j))<s){f.dlShiftTo(q,r),c.subTo(r,c);while(c.arr[p]<--s)c.subTo(r,c)}}b!=null&&(c.drShiftTo(j,b),g!=h&&U.ZERO.subTo(b,b)),c.t=j,c.clamp(),i>0&&c.rShiftTo(i,c),g<0&&U.ZERO.subTo(c,c)}}function bv(a){var b=this.abs(),c=a.t=2*b.t;while(--c>=0)a.arr[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b.arr[c],a,2*c,0,1);(a.arr[c+b.t]+=b.am(c+1,2*b.arr[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a.arr[c+b.t]-=b.DV,a.arr[c+b.t+1]=1)}a.t>0&&(a.arr[a.t-1]+=b.am(c,b.arr[c],a,2*c,0,1)),a.s=0,a.clamp()}function bu(a,b){var c=this.abs(),d=a.abs(),e=c.t;b.t=e+d.t;while(--e>=0)b.arr[e]=0;for(e=0;e<d.t;++e)b.arr[e+c.t]=c.am(0,d.arr[e],b,e,0,c.t);b.s=0,b.clamp(),this.s!=a.s&&U.ZERO.subTo(b,b)}function bt(a,b){var c=0,d=0,e=Math.min(a.t,this.t);while(c<e)d+=this.arr[c]-a.arr[c],b.arr[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){d-=a.s;while(c<this.t)d+=this.arr[c],b.arr[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{d+=this.s;while(c<a.t)d-=a.arr[c],b.arr[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=d<0?-1:0,d<-1?b.arr[c++]=this.DV+d:d>0&&(b.arr[c++]=d),b.t=c,b.clamp()}function bs(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)b.t=0;else{var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b.arr[0]=this.arr[c]>>d;for(var g=c+1;g<this.t;++g)b.arr[g-c-1]|=(this.arr[g]&f)<<e,b.arr[g-c]=this.arr[g]>>d;d>0&&(b.arr[this.t-c-1]|=(this.s&f)<<e),b.t=this.t-c,b.clamp()}}function br(a,b){var c=a%this.DB,d=this.DB-c,e=(1<<d)-1,f=Math.floor(a/this.DB),g=this.s<<c&this.DM,h;for(h=this.t-1;h>=0;--h)b.arr[h+f+1]=this.arr[h]>>d|g,g=(this.arr[h]&e)<<c;for(h=f-1;h>=0;--h)b.arr[h]=0;b.arr[f]=g,b.t=this.t+f+1,b.s=this.s,b.clamp()}function bq(a,b){for(var c=a;c<this.t;++c)b.arr[c-a]=this.arr[c];b.t=Math.max(this.t-a,0),b.s=this.s}function bp(a,b){var c;for(c=this.t-1;c>=0;--c)b.arr[c+a]=this.arr[c];for(c=a-1;c>=0;--c)b.arr[c]=0;b.t=this.t+a,b.s=this.s}function bo(){return this.t<=0?0:this.DB*(this.t-1)+bn(this.arr[this.t-1]^this.s&this.DM)}function bn(a){var b=1,c;(c=a>>>16)!=0&&(a=c,b+=16),(c=a>>8)!=0&&(a=c,b+=8),(c=a>>4)!=0&&(a=c,b+=4),(c=a>>2)!=0&&(a=c,b+=2),(c=a>>1)!=0&&(a=c,b+=1);return b}function bm(a){var b=this.s-a.s;if(b!=0)return b;var c=this.t;b=c-a.t;if(b!=0)return b;while(--c>=0)if((b=this.arr[c]-a.arr[c])!=0)return b;return 0}function bl(){return this.s<0?this.negate():this}function bk(){var a=V();U.ZERO.subTo(this,a);return a}function bj(a){if(this.s<0)return"-"+this.negate().toString(a);var b;if(a==16)b=4;else if(a==8)b=3;else if(a==2)b=1;else if(a==32)b=5;else if(a==4)b=2;else return this.toRadix(a);var c=(1<<b)-1,d,e=!1,f="",g=this.t,h=this.DB-g*this.DB%b;if(g-->0){h<this.DB&&(d=this.arr[g]>>h)>0&&(e=!0,f=bc(d));while(g>=0)h<b?(d=(this.arr[g]&(1<<h)-1)<<b-h,d|=this.arr[--g]>>(h+=this.DB-b)):(d=this.arr[g]>>(h-=b)&c,h<=0&&(h+=this.DB,--g)),d>0&&(e=!0),e&&(f+=bc(d))}return e?f:"0"}function bi(){var a=this.s&this.DM;while(this.t>0&&this.arr[this.t-1]==a)--this.t}function bh(a,b){var c;if(b==16)c=4;else if(b==8)c=3;else if(b==256)c=8;else if(b==2)c=1;else if(b==32)c=5;else if(b==4)c=2;else{this.fromRadix(a,b);return}this.t=0,this.s=0;var d=a.length,e=!1,f=0;while(--d>=0){var g=c==8?a[d]&255:bd(a,d);if(g<0){a.charAt(d)=="-"&&(e=!0);continue}e=!1,f==0?this.arr[this.t++]=g:f+c>this.DB?(this.arr[this.t-1]|=(g&(1<<this.DB-f)-1)<<f,this.arr[this.t++]=g>>this.DB-f):this.arr[this.t-1]|=g<<f,f+=c,f>=this.DB&&(f-=this.DB)}c==8&&(a[0]&128)!=0&&(this.s=-1,f>0&&(this.arr[this.t-1]|=(1<<this.DB-f)-1<<f)),this.clamp(),e&&U.ZERO.subTo(this,this)}function bg(a){var b=V();b.fromInt(a);return b}function bf(a){this.t=1,this.s=a<0?-1:0,a>0?this.arr[0]=a:a<-1?this.arr[0]=a+DV:this.t=0}function be(a){for(var b=this.t-1;b>=0;--b)a.arr[b]=this.arr[b];a.t=this.t,a.s=this.s}function bd(a,b){var c=_[a.charCodeAt(b)];return c==null?-1:c}function bc(a){return $.charAt(a)}function Y(a,b,c,d,e,f){var g=b&16383,h=b>>14;while(--f>=0){var i=this.arr[a]&16383,j=this.arr[a++]>>14,k=h*i+j*g;i=g*i+((k&16383)<<14)+c.arr[d]+e,e=(i>>28)+(k>>14)+h*j,c.arr[d++]=i&268435455}return e}function X(a,b,c,d,e,f){var g=b&32767,h=b>>15;while(--f>=0){var i=this.arr[a]&32767,j=this.arr[a++]>>15,k=h*i+j*g;i=g*i+((k&32767)<<15)+c.arr[d]+(e&1073741823),e=(i>>>30)+(k>>>15)+h*j+(e>>>30),c.arr[d++]=i&1073741823}return e}function W(a,b,c,d,e,f){while(--f>=0){var g=b*this.arr[a++]+c.arr[d]+e;e=Math.floor(g/67108864),c.arr[d++]=g&67108863}return e}function V(){return new U(null)}function U(a,b,c){this.arr=[],a!=null&&("number"==typeof a?this.fromNumber(a,b,c):b==null&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function Q(a){var b=P(a),c,d=[];for(c=0;2*c<b.length;++c)d[c]=parseInt(b.substring(2*c,2*c+2),16);return d}function P(a){var b="",c,d=0,e;for(c=0;c<a.length;++c){if(a.charAt(c)==m)break;v=N.indexOf(a.charAt(c));if(v<0)continue;d==0?(b+=bc(v>>2),e=v&3,d=1):d==1?(b+=bc(e<<2|v>>4),e=v&15,d=2):d==2?(b+=bc(e),b+=bc(v>>2),e=v&3,d=3):(b+=bc(e<<2|v>>4),b+=bc(v&15),d=0)}d==1&&(b+=bc(e<<2));return b}function O(a){var b,c,d="";a.length%2==1&&(a="0"+a);for(b=0;b+3<=a.length;b+=3)c=parseInt(a.substring(b,b+3),16),d+=N.charAt(c>>6)+N.charAt(c&63);b+1==a.length?(c=parseInt(a.substring(b,b+1),16),d+=N.charAt(c<<2)):b+2==a.length&&(c=parseInt(a.substring(b,b+2),16),d+=N.charAt(c>>2)+N.charAt((c&3)<<4));while((d.length&3)>0)d+=m;return d}function J(a,b){return a<<b|a>>>32-b}function I(a,b){var c=(a&65535)+(b&65535),d=(a>>16)+(b>>16)+(c>>16);return d<<16|c&65535}function H(a){return a<20?1518500249:a<40?1859775393:a<60?-1894007588:-899497514}function G(a,b,c,d){return a<20?b&c|~b&d:a<40?b^c^d:a<60?b&c|b&d|c&d:b^c^d}function F(a,b){a[b>>5]|=128<<24-b%32,a[(b+64>>9<<4)+15]=b;var c=Array(80),d=1732584193,e=-271733879,f=-1732584194,g=271733878,h=-1009589776;for(var i=0;i<a.length;i+=16){var j=d,k=e,l=f,m=g,n=h;for(var o=0;o<80;o++){o<16?c[o]=a[i+o]:c[o]=J(c[o-3]^c[o-8]^c[o-14]^c[o-16],1);var p=I(I(J(d,5),G(o,e,f,g)),I(I(h,c[o]),H(o)));h=g,g=f,f=J(e,30),e=d,d=p}d=I(d,j),e=I(e,k),f=I(f,l),g=I(g,m),h=I(h,n)}return[d,e,f,g,h]}function E(a){var b="";for(var c=0;c<a.length*32;c+=8)b+=String.fromCharCode(a[c>>5]>>>24-c%32&255);return b}function D(a){var b=Array(a.length>>2);for(var c=0;c<b.length;c++)b[c]=0;for(var c=0;c<a.length*8;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<24-c%32;return b}function C(a){var b="";for(var c=0;c<a.length;c++)b+=String.fromCharCode(a.charCodeAt(c)>>>8&255,a.charCodeAt(c)&255);return b}function B(a){var b="";for(var c=0;c<a.length;c++)b+=String.fromCharCode(a.charCodeAt(c)&255,a.charCodeAt(c)>>>8&255);return b}function A(a){var b="",c=-1,d,e;while(++c<a.length)d=a.charCodeAt(c),e=c+1<a.length?a.charCodeAt(c+1):0,55296<=d&&d<=56319&&56320<=e&&e<=57343&&(d=65536+((d&1023)<<10)+(e&1023),c++),d<=127?b+=String.fromCharCode(d):d<=2047?b+=String.fromCharCode(192|d>>>6&31,128|d&63):d<=65535?b+=String.fromCharCode(224|d>>>12&15,128|d>>>6&63,128|d&63):d<=2097151&&(b+=String.fromCharCode(240|d>>>18&7,128|d>>>12&63,128|d>>>6&63,128|d&63));return b}function z(a,b){var c=b.length,d=[],e,f,g,h,i=Array(Math.ceil(a.length/2));for(e=0;e<i.length;e++)i[e]=a.charCodeAt(e*2)<<8|a.charCodeAt(e*2+1);while(i.length>0){h=[],g=0;for(e=0;e<i.length;e++){g=(g<<16)+i[e],f=Math.floor(g/c),g-=f*c;if(h.length>0||f>0)h[h.length]=f}d[d.length]=g,i=h}var j="";for(e=d.length-1;e>=0;e--)j+=b.charAt(d[e]);var k=Math.ceil(a.length*8/(Math.log(b.length)/Math.log(2)));for(e=j.length;e<k;e++)j=b[0]+j;return j}function y(a){try{m}catch(b){m=""}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="",e=a.length;for(var f=0;f<e;f+=3){var g=a.charCodeAt(f)<<16|(f+1<e?a.charCodeAt(f+1)<<8:0)|(f+2<e?a.charCodeAt(f+2):0);for(var h=0;h<4;h++)f*8+h*6>a.length*8?d+=m:d+=c.charAt(g>>>6*(3-h)&63)}return d}function x(a){try{l}catch(b){l=0}var c=l?"0123456789ABCDEF":"0123456789abcdef",d="",e;for(var f=0;f<a.length;f++)e=a.charCodeAt(f),d+=c.charAt(e>>>4&15)+c.charAt(e&15);return d}function w(a,b){var c=D(a);c.length>16&&(c=F(c,a.length*8));var d=Array(16),e=Array(16);for(var f=0;f<16;f++)d[f]=c[f]^909522486,e[f]=c[f]^1549556828;var g=F(d.concat(D(b)),512+b.length*8);return E(F(e.concat(g),672))}function u(a){return E(F(D(a),a.length*8))}function t(){return n("abc").toLowerCase()=="a9993e364706816aba3e25717850c26c9cd0d89d"}function s(a,b,c){return z(w(A(a),A(b)),c)}function r(a,b){return y(w(A(a),A(b)))}function q(a,b){return x(w(A(a),A(b)))}function p(a,b){return z(u(A(a)),b)}function o(a){return y(u(A(a)))}function n(a){return x(u(A(a)))}if(typeof OVERRIDE=="undefined")var g={appName:"Netscape"},h={atob:function(a){return(new Buffer(a,"base64")).toString("utf-8")},btoa:function(a){return(new Buffer(a)).toString("base64")}},i=function(a){console.log(a)};else var g=OVERRIDE.navigator,h=OVERRIDE.window;var j={hex:function(){throw new Error("Not Implemented")}},k={hex:function(a){return K.codec.hex.fromBits(K.hash.sha256.hash(a))}};(function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b=String.fromCharCode,c=function(){try{document.createElement("$")}catch(a){return a}}();h.btoa||(h.btoa=function(b){var d,e,f,g,h,i,j,k=0,l=b.length,m=Math.max,n="";while(k<l){d=b.charCodeAt(k++)||0,e=b.charCodeAt(k++)||0,j=b.charCodeAt(k++)||0;if(m(d,e,j)>255)throw c;f=d>>2&63,g=(d&3)<<4|e>>4&15,h=(e&15)<<2|j>>6&3,i=j&63,e?j||(i=64):h=i=64,n+=a.charAt(f)+a.charAt(g)+a.charAt(h)+a.charAt(i)}return n}),h.atob||(h.atob=function(d){d=d.replace(/=+$/,"");var e,f,g,h,i,j,k,l=0,m=d.length,n=[];if(m%4===1)throw c;while(l<m)g=a.indexOf(d.charAt(l++)),h=a.indexOf(d.charAt(l++)),i=a.indexOf(d.charAt(l++)),j=a.indexOf(d.charAt(l++)),e=(g&63)<<2|h>>4&3,f=(h&15)<<4|i>>2&15,k=(i&3)<<6|j&63,n.push(b(e)),f&&n.push(b(f)),k&&n.push(b(k));return n.join("")})})();var l=0,m="";"use strict";var K={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};K.cipher.aes=function(a){this.h[0][0][0]||this.w();var b,c,d,e,f=this.h[0][4],g=this.h[1];b=a.length;var h=1;if(b!==4&&b!==6&&b!==8)throw new K.exception.invalid("invalid aes key size");this.a=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(a%b===0||b===8&&a%b===4)c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255],a%b===0&&(c=c<<8^c>>>24^h<<24,h=h<<1^(h>>7)*283);d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&3?a:a-4],e[b]=a<=4||b<4?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[c&255]]},K.cipher.aes.prototype={encrypt:function(a){return this.H(a,0)},decrypt:function(a){return this.H(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],w:function(){var a=this.h[0],b=this.h[1],c=a[4],d=b[4],e,f,g,h=[],i=[],j,k,l,m;for(e=0;e<256;e++)i[(h[e]=e<<1^(e>>7)*283)^e]=e;for(f=g=0;!c[f];f^=j||1,g=i[g]||1){l=g^g<<1^g<<2^g<<3^g<<4,l=l>>8^l&255^99,c[f]=l,d[l]=f,k=h[e=h[j=h[f]]],m=k*16843009^e*65537^j*257^f*16843008,k=h[l]*257^l*16843008;for(e=0;e<4;e++)a[e][f]=k=k<<24^k>>>8,b[e][l]=m=m<<24^m>>>8}for(e=0;e<5;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)},H:function(a,b){if(a.length!==4)throw new K.exception.invalid("invalid aes block size");var c=this.a[b],d=a[0]^c[0],e=a[b?3:1]^c[1],f=a[2]^c[2];a=a[b?1:3]^c[3];var g,h,i,j=c.length/4-2,k,l=4,m=[0,0,0,0];g=this.h[b];var n=g[0],o=g[1],p=g[2],q=g[3],r=g[4];for(k=0;k<j;k++)g=n[d>>>24]^o[e>>16&255]^p[f>>8&255]^q[a&255]^c[l],h=n[e>>>24]^o[f>>16&255]^p[a>>8&255]^q[d&255]^c[l+1],i=n[f>>>24]^o[a>>16&255]^p[d>>8&255]^q[e&255]^c[l+2],a=n[a>>>24]^o[d>>16&255]^p[e>>8&255]^q[f&255]^c[l+3],l+=4,d=g,e=h,f=i;for(k=0;k<4;k++)m[b?3&-k:k]=r[d>>>24]<<24^r[e>>16&255]<<16^r[f>>8&255]<<8^r[a&255]^c[l++],g=d,d=e,e=f,f=a,a=g;return m}},K.bitArray={bitSlice:function(a,b,c){a=K.bitArray.P(a.slice(b/32),32-(b&31)).slice(1);return c===undefined?a:K.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(a.length===0||b.length===0)return a.concat(b);var c=a[a.length-1],d=K.bitArray.getPartial(c);return d===32?a.concat(b):K.bitArray.P(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return b===0?0:(b-1)*32+K.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(a.length*32<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b&=31,c>0&&b&&(a[c-1]=K.bitArray.partial(b,a[c-1]&2147483648>>b-1,1));return a},partial:function(a,b,c){return a===32?b:(c?b|0:b<<32-a)+a*1099511627776},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(K.bitArray.bitLength(a)!==K.bitArray.bitLength(b))return!1;var c=0,d;for(d=0;d<a.length;d++)c|=a[d]^b[d];return c===0},P:function(a,b,c,d){var e;e=0,d===undefined&&(d=[]);for(;b>=32;b-=32)d.push(c),c=0;if(b===0)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;e=a.length?a[a.length-1]:0,a=K.bitArray.getPartial(e),d.push(K.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1));return d},k:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}},K.codec.utf8String={fromBits:function(a){var b="",c=K.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++)(d&3)===0&&(e=a[d/4]),b+=String.fromCharCode(e>>>24),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),(c&3)===3&&(b.push(d),d=0);c&3&&b.push(K.bitArray.partial(8*(c&3),d));return b}},K.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,K.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\s|0x/g,""),d=a.length,a+="00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return K.bitArray.clamp(c,d*4)}},K.codec.base64={D:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=K.codec.base64.D,g=0,h=K.bitArray.bitLength(a);c&&(f=f.substr(0,62)+"-_");for(c=0;d.length*6<h;)d+=f.charAt((g^a[c]>>>e)>>>26),e<6?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;d.length&3&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c=[],d=0,e=K.codec.base64.D,f=0,g;b&&(e=e.substr(0,62)+"-_");for(b=0;b<a.length;b++){g=e.indexOf(a.charAt(b));if(g<0)throw new K.exception.invalid("this isn't base64!");d>26?(d-=26,c.push(f^g>>>d),f=g<<32-d):(d+=6,f^=g<<32-d)}d&56&&c.push(K.bitArray.partial(d&56,f,1));return c}},K.codec.base64url={fromBits:function(a){return K.codec.base64.fromBits(a,1,1)},toBits:function(a){return K.codec.base64.toBits(a,1)}},K.hash.sha256=function(a){this.a[0]||this.w(),a?(this.n=a.n.slice(0),this.i=a.i.slice(0),this.e=a.e):this.reset()},K.hash.sha256.hash=function(a){return(new K.hash.sha256).update(a).finalize()},K.hash.sha256.prototype={blockSize:512,reset:function(){this.n=this.N.slice(0),this.i=[],this.e=0;return this},update:function(a){typeof a=="string"&&(a=K.codec.utf8String.toBits(a));var b,c=this.i=K.bitArray.concat(this.i,a);b=this.e,a=this.e=b+K.bitArray.bitLength(a);for(b=512+b&-512;b<=a;b+=512)this.C(c.splice(0,16));return this},finalize:function(){var a,b=this.i,c=this.n;b=K.bitArray.concat(b,[K.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.e/4294967296));for(b.push(this.e|0);b.length;)this.C(b.splice(0,16));this.reset();return c},N:[],a:[],w:function(){function a(a){return(a-Math.floor(a))*4294967296|0}var b=0,c=2,d;a:for(;b<64;c++){for(d=2;d*d<=c;d++)if(c%d===0)continue a;b<8&&(this.N[b]=a(Math.pow(c,.5))),this.a[b]=a(Math.pow(c,1/3)),b++}},C:function(a){var b,c,d=a.slice(0),e=this.n,f=this.a,g=e[0],h=e[1],i=e[2],j=e[3],k=e[4],l=e[5],m=e[6],n=e[7];for(a=0;a<64;a++)a<16?b=d[a]:(b=d[a+1&15],c=d[a+14&15],b=d[a&15]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[a&15]+d[a+9&15]|0),b=b+n+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(m^k&(l^m))+f[a],n=m,m=l,l=k,k=j+b|0,j=i,i=h,h=g,g=b+(h&i^j&(h^i))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;e[0]=e[0]+g|0,e[1]=e[1]+h|0,e[2]=e[2]+i|0,e[3]=e[3]+j|0,e[4]=e[4]+k|0,e[5]=e[5]+l|0,e[6]=e[6]+m|0,e[7]=e[7]+n|0}},K.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=K.bitArray,i=h.bitLength(c)/8,j=h.bitLength(g)/8;e=e||64,d=d||[];if(i<7)throw new K.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;f<4&&j>>>8*f;f++);f<15-i&&(f=15-i),c=h.clamp(c,8*(15-f)),b=K.mode.ccm.G(a,b,c,d,e,f),g=K.mode.ccm.I(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64,d=d||[];var f=K.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),i=f.clamp(b,h-e),j=f.bitSlice(b,h-e);h=(h-e)/8;if(g<7)throw new K.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;b<4&&h>>>8*b;b++);b<15-g&&(b=15-g),c=f.clamp(c,8*(15-b)),i=K.mode.ccm.I(a,i,c,j,e,b),a=K.mode.ccm.G(a,i.data,c,d,e,b);if(!f.equal(i.tag,a))throw new K.exception.corrupt("ccm: tag doesn't match");return i.data},G:function(a,b,c,d,e,f){var g=[],h=K.bitArray,i=h.k;e/=8;if(e%2||e<4||e>16)throw new K.exception.invalid("ccm: invalid tag length");if(d.length>4294967295||b.length>4294967295)throw new K.exception.bug("ccm: can't deal with 4GiB or more data");f=[h.partial(8,(d.length?64:0)|e-2<<2|f-1)],f=h.concat(f,c),f[3]|=h.bitLength(b)/8,f=a.encrypt(f);if(d.length){c=h.bitLength(d)/8,c<=65279?g=[h.partial(16,c)]:c<=4294967295&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,d);for(d=0;d<g.length;d+=4)f=a.encrypt(i(f,g.slice(d,d+4).concat([0,0,0])))}for(d=0;d<b.length;d+=4)f=a.encrypt(i(f,b.slice(d,d+4).concat([0,0,0])));return h.clamp(f,e*8)},I:function(a,b,c,d,e,f){var g,h=K.bitArray;g=h.k;var i=b.length,j=h.bitLength(b);c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4),d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!i)return{tag:d,data:[]};for(g=0;g<i;g+=4)c[3]++,e=a.encrypt(c),b[g]^=e[0],b[g+1]^=e[1],b[g+2]^=e[2],b[g+3]^=e[3];return{tag:d,data:h.clamp(b,j)}}},K.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(K.bitArray.bitLength(c)!==128)throw new K.exception.invalid("ocb iv must be 128 bits");var g,h=K.mode.ocb2.A,i=K.bitArray,j=i.k,k=[0,0,0,0];c=h(a.encrypt(c));var l,m=[];d=d||[],e=e||64;for(g=0;g+4<b.length;g+=4)l=b.slice(g,g+4),k=j(k,l),m=m.concat(j(c,a.encrypt(j(c,l)))),c=h(c);l=b.slice(g),b=i.bitLength(l),g=a.encrypt(j(c,[0,0,0,b])),l=i.clamp(j(l.concat([0,0,0]),g),b),k=j(k,j(l.concat([0,0,0]),g)),k=a.encrypt(j(k,j(c,h(c)))),d.length&&(k=j(k,f?d:K.mode.ocb2.pmac(a,d)));return m.concat(i.concat(l,i.clamp(k,e)))},decrypt:function(a,b,c,d,e,f){if(K.bitArray.bitLength(c)!==128)throw new K.exception.invalid("ocb iv must be 128 bits");e=e||64;var g=K.mode.ocb2.A,h=K.bitArray,i=h.k,j=[0,0,0,0],k=g(a.encrypt(c)),l,m,n=K.bitArray.bitLength(b)-e,o=[];d=d||[];for(c=0;c+4<n/32;c+=4)l=i(k,a.decrypt(i(k,b.slice(c,c+4)))),j=i(j,l),o=o.concat(l),k=g(k);m=n-c*32,l=a.encrypt(i(k,[0,0,0,m])),l=i(l,h.clamp(b.slice(c),m).concat([0,0,0])),j=i(j,l),j=a.encrypt(i(j,i(k,g(k)))),d.length&&(j=i(j,f?d:K.mode.ocb2.pmac(a,d)));if(!h.equal(h.clamp(j,e),h.bitSlice(b,n)))throw new K.exception.corrupt("ocb: tag doesn't match");return o.concat(h.clamp(l,m))},pmac:function(a,b){var c,d=K.mode.ocb2.A,e=K.bitArray,f=e.k,g=[0,0,0,0],h=a.encrypt([0,0,0,0]);h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4)h=d(h),g=f(g,a.encrypt(f(h,b.slice(c,c+4))));b=b.slice(c),e.bitLength(b)<128&&(h=f(h,d(h)),b=e.concat(b,[-2147483648,0,0,0])),g=f(g,b);return a.encrypt(f(d(f(h,d(h))),g))},A:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^(a[0]>>>31)*135]}},K.misc.hmac=function(a,b){this.M=b=b||K.hash.sha256;var c=[[],[]],d=b.prototype.blockSize/32;this.l=[new b,new b],a.length>d&&(a=b.hash(a));for(b=0;b<d;b++)c[0][b]=a[b]^909522486,c[1][b]=a[b]^1549556828;this.l[0].update(c[0]),this.l[1].update(c[1])},K.misc.hmac.prototype.encrypt=K.misc.hmac.prototype.mac=function(a,b){a=(new this.M(this.l[0])).update(a,b).finalize();return(new this.M(this.l[1])).update(a).finalize()},K.misc.pbkdf2=function(a,b,c,d,e){c=c||1e3;if(d<0||c<0)throw K.exception.invalid("invalid params to pbkdf2");typeof a=="string"&&(a=K.codec.utf8String.toBits(a)),e=e||K.misc.hmac,a=new e(a);var f,g,h,i,j=[],k=K.bitArray;for(i=1;32*j.length<(d||1);i++){e=f=a.encrypt(k.concat(b,[i]));for(g=1;g<c;g++){f=a.encrypt(f);for(h=0;h<f.length;h++)e[h]^=f[h]}j=j.concat(e)}d&&(j=k.clamp(j,d));return j},K.random={randomWords:function(a,b){var c=[];b=this.isReady(b);var d;if(b===0)throw new K.exception.notReady("generator isn't seeded");b&2&&this.U(!(b&1));for(b=0;b<a;b+=4)(b+1)%65536===0&&this.L(),d=this.u(),c.push(d[0],d[1],d[2],d[3]);this.L();return c.slice(0,a)},setDefaultParanoia:function(a){this.t=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.q[c],h=this.isReady();d=this.F[c],d===undefined&&(d=this.F[c]=this.R++),g===undefined&&(g=this.q[c]=0),this.q[c]=(this.q[c]+1)%this.b.length;switch(typeof a){case"number":break;case"object":if(b===undefined)for(c=b=0;c<a.length;c++)for(e=a[c];e>0;)b++,e>>>=1;this.b[g].update([d,this.J++,2,b,f,a.length].concat(a));break;case"string":b===undefined&&(b=a.length),this.b[g].update([d,this.J++,3,b,f,a.length]),this.b[g].update(a);break;default:throw new K.exception.bug("random: addEntropy only supports number, array or string")}this.j[g]+=b,this.f+=b,h===0&&(this.isReady()!==0&&this.K("seeded",Math.max(this.g,this.f)),this.K("progress",this.getProgress()))},isReady:function(a){a=this.B[a!==undefined?a:this.t];return this.g&&this.g>=a?this.j[0]>80&&(new Date).valueOf()>this.O?3:1:this.f>=a?2:0},getProgress:function(a){a=this.B[a?a:this.t];return this.g>=a?(1)[0]:this.f>a?(1)[0]:this.f/a},startCollectors:function(){if(!this.m){if(h.addEventListener)h.addEventListener("load",this.o,!1),h.addEventListener("mousemove",this.p,!1);else if(document.attachEvent)document.attachEvent("onload",this.o),document.attachEvent("onmousemove",this.p);else throw new K.exception.bug("can't attach event");this.m=!0}},stopCollectors:function(){this.m&&(h.removeEventListener?(h.removeEventListener("load",this.o,!1),h.removeEventListener("mousemove",this.p,!1)):h.detachEvent&&(h.detachEvent("onload",this.o),h.detachEvent("onmousemove",this.p)),this.m=!1)},addEventListener:function(a,b){this.r[a][this.Q++]=b},removeEventListener:function(a,b){var c;a=this.r[a];var d=[];for(c in a)a.hasOwnProperty(c)&&a[c]===b&&d.push(c);for(b=0;b<d.length;b++)c=d[b],delete a[c]},b:[new K.hash.sha256],j:[0],z:0,q:{},J:0,F:{},R:0,g:0,f:0,O:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],s:undefined,t:6,m:!1,r:{progress:{},seeded:{}},Q:0,B:[0,48,64,96,128,192,256,384,512,768,1024],u:function(){for(var a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}return this.s.encrypt(this.d)},L:function(){this.a=this.u().concat(this.u()),this.s=new K.cipher.aes(this.a)},T:function(a){this.a=K.hash.sha256.hash(this.a.concat(a)),this.s=new K.cipher.aes(this.a);for(a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}},U:function(a){var b=[],c=0,d;this.O=b[0]=(new Date).valueOf()+3e4;for(d=0;d<16;d++)b.push(Math.random()*4294967296|0);for(d=0;d<this.b.length;d++){b=b.concat(this.b[d].finalize()),c+=this.j[d],this.j[d]=0;if(!a&&this.z&1<<d)break}this.z>=1<<this.b.length&&(this.b.push(new K.hash.sha256),this.j.push(0)),this.f-=c,c>this.g&&(this.g=c),this.z++,this.T(b)},p:function(a){K.random.addEntropy([a.x||a.clientX||a.offsetX,a.y||a.clientY||a.offsetY],2,"mouse")},o:function(){K.random.addEntropy(new Date,2,"loadtime")},K:function(a,b){var c;a=K.random.r[a];var d=[];for(c in a)a.hasOwnProperty(c)&&d.push(a[c]);for(c=0;c<d.length;c++)d[c](b)}};try{var L=new Uint32Array(32);c_.getRandomValues(L),K.random.addEntropy(L,1024,"crypto['getRandomValues']")}catch(M){}K.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){c=c||{},d=d||{};var e=K.json,f=e.c({iv:K.random.randomWords(4,0)},e.defaults);e.c(f,c),typeof f.salt=="string"&&(f.salt=K.codec.base64.toBits(f.salt)),typeof f.iv=="string"&&(f.iv=K.codec.base64.toBits(f.iv));if(!K.mode[f.mode]||!K.cipher[f.cipher]||typeof a=="string"&&f.iter<=100||f.ts!==64&&f.ts!==96&&f.ts!==128||f.ks!==128&&f.ks!==192&&f.ks!==256||f.iv.length<2||f.iv.length>4)throw new K.exception.invalid("json encrypt: invalid parameters");typeof a=="string"&&(c=K.misc.cachedPbkdf2(a,f),a=c.key.slice(0,f.ks/32),f.salt=c.salt),typeof b=="string"&&(b=K.codec.utf8String.toBits(b)),c=new K.cipher[f.cipher](a),e.c(d,f),d.key=a,f.ct=K.mode[f.mode].encrypt(c,b,f.iv,f.adata,f.ts);return e.encode(e.V(f,e.defaults))},decrypt:function(a,b,c,d){c=c||{},d=d||{};var e=K.json;b=e.c(e.c(e.c({},e.defaults),e.decode(b)),c,!0),typeof b.salt=="string"&&(b.salt=K.codec.base64.toBits(b.salt)),typeof b.iv=="string"&&(b.iv=K.codec.base64.toBits(b.iv));if(!K.mode[b.mode]||!K.cipher[b.cipher]||typeof a=="string"&&b.iter<=100||b.ts!==64&&b.ts!==96&&b.ts!==128||b.ks!==128&&b.ks!==192&&b.ks!==256||!b.iv||b.iv.length<2||b.iv.length>4)throw new K.exception.invalid("json decrypt: invalid parameters");typeof a=="string"&&(c=K.misc.cachedPbkdf2(a,b),a=c.key.slice(0,b.ks/32),b.salt=c.salt),c=new K.cipher[b.cipher](a),c=K.mode[b.mode].decrypt(c,b.ct,b.iv,b.adata,b.ts),e.c(d,b),d.key=a;return K.codec.utf8String.fromBits(c)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new K.exception.invalid("json encode: invalid property name");c+=d+b+":",d=",";switch(typeof a[b]){case"number":case"boolean":c+=a[b];break;case"string":c+='"'+escape(a[b])+'"';break;case"object":c+='"'+K.codec.base64.fromBits(a[b],1)+'"';break;default:throw new K.exception.bug("json encode: unsupported type")}}return c+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new K.exception.invalid("json decode: this isn't json!");a=a.replace(/^\{|\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^([a-z][a-z0-9]*):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new K.exception.invalid("json decode: this isn't json!");b[d[1]]=d[2]?parseInt(d[2],10):d[1].match(/^(ct|salt|iv)$/)?K.codec.base64.toBits(d[3]):unescape(d[3])}return b},c:function(a,b,c){a===undefined&&(a={});if(b===undefined)return a;var d;for(d in b)if(b.hasOwnProperty(d)){if(c&&a[d]!==undefined&&a[d]!==b[d])throw new K.exception.invalid("required parameter overridden");a[d]=b[d]}return a},V:function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},W:function(a,b){var c={},d;for(d=0;d<b.length;d++)a[b[d]]!==undefined&&(c[b[d]]=a[b[d]]);return c}},K.encrypt=K.json.encrypt,K.decrypt=K.json.decrypt,K.misc.S={},K.misc.cachedPbkdf2=function(a,b){var c=K.misc.S,d;b=b||{},d=b.iter||1e3,c=c[a]=c[a]||{},d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):K.random.randomWords(2,0)},c=b.salt===undefined?d.firstSalt:b.salt,d[c]=d[c]||K.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="=",R,S=0xdeadbeefcafe,T=(S&16777215)==15715070;T&&g.appName=="Microsoft Internet Explorer"?(U.prototype.am=X,R=30):T&&g.appName!="Netscape"?(U.prototype.am=W,R=26):(U.prototype.am=Y,R=28),U.prototype.DB=R,U.prototype.DM=(1<<R)-1,U.prototype.DV=1<<R;var Z=52;U.prototype.FV=Math.pow(2,Z),U.prototype.F1=Z-R,U.prototype.F2=2*R-Z;var $="0123456789abcdefghijklmnopqrstuvwxyz",_=[],ba,bb;ba="0".charCodeAt(0);for(bb=0;bb<=9;++bb)_[ba++]=bb;ba="a".charCodeAt(0);for(bb=10;bb<36;++bb)_[ba++]=bb;ba="A".charCodeAt(0);for(bb=10;bb<36;++bb)_[ba++]=bb;by.prototype.convert=bz,by.prototype.revert=bA,by.prototype.reduce=bB,by.prototype.mulTo=bC,by.prototype.sqrTo=bD,bF.prototype.convert=bG,bF.prototype.revert=bH,bF.prototype.reduce=bI,bF.prototype.mulTo=bK,bF.prototype.sqrTo=bJ,U.prototype.copyTo=be,U.prototype.fromInt=bf,U.prototype.fromString=bh,U.prototype.clamp=bi,U.prototype.dlShiftTo=bp,U.prototype.drShiftTo=bq,U.prototype.lShiftTo=br,U.prototype.rShiftTo=bs,U.prototype.subTo=bt,U.prototype.multiplyTo=bu,U.prototype.squareTo=bv,U.prototype.divRemTo=bw,U.prototype.invDigit=bE,U.prototype.isEven=bL,U.prototype.exp=bM,U.prototype.toString=bj,U.prototype.negate=bk,U.prototype.abs=bl,U.prototype.compareTo=bm,U.prototype.bitLength=bo,U.prototype.mod=bx,U.prototype.modPowInt=bN,U.ZERO=bg(0),U.ONE=bg(1),cD.prototype.convert=cE,cD.prototype.revert=cE,cD.prototype.mulTo=cF,cD.prototype.sqrTo=cG,cK.prototype.convert=cL,cK.prototype.revert=cM,cK.prototype.reduce=cN,cK.prototype.mulTo=cP,cK.prototype.sqrTo=cO;var cU=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],cV=(1<<26)/cU[cU.length-1];U.prototype.chunkSize=bS,U.prototype.toRadix=bU,U.prototype.fromRadix=bV,U.prototype.fromNumber=bW,U.prototype.bitwiseTo=b_,U.prototype.changeBit=cq,U.prototype.addTo=cu,U.prototype.dMultiply=cB,U.prototype.dAddOffset=cC,U.prototype.multiplyLowerTo=cI,U.prototype.multiplyUpperTo=cJ,U.prototype.modInt=cS,U.prototype.millerRabin=cX,U.prototype.clone=bO,U.prototype.intValue=bP,U.prototype.byteValue=bQ,U.prototype.shortValue=bR,U.prototype.signum=bT,U.prototype.toByteArray=bX,U.prototype.equals=bY,U.prototype.min=bZ,U.prototype.max=b$,U.prototype.and=cb,U.prototype.or=cd,U.prototype.xor=cf,U.prototype.andNot=ch,U.prototype.not=ci,U.prototype.shiftLeft=cj,U.prototype.shiftRight=ck,U.prototype.getLowestSetBit=cm,U.prototype.bitCount=co,U.prototype.testBit=cp,U.prototype.setBit=cr,U.prototype.clearBit=cs,U.prototype.flipBit=ct,U.prototype.add=cv,U.prototype.subtract=cw,U.prototype.multiply=cx,U.prototype.divide=cy,U.prototype.remainder=cz,U.prototype.divideAndRemainder=cA,U.prototype.modPow=cQ,U.prototype.modInverse=cT,U.prototype.pow=cH,U.prototype.gcd=cR,U.prototype.isProbablePrime=cW,U.prototype.toBase64=function(){return O(this.toString(16))},U.fromBase64=function(a){return new U(P(a),16)};var cY=U,cZ=null;try{var c$=a("bigint"),c_=a("crypto");U=function(a,b,c){if(a)if(typeof a=="number")if(typeof b=="number"){var d;for(;;){d=c$(c_.randomBytes(a/8).toString("hex"),16);if(d.bitLength()==a)break}this._bigint=d.nextPrime()}else this._bigint=c$.rand(c$("1").shiftLeft(a));else this._bigint=c$(a,b)},U._from_bigint=function(a){var b=new U;b._bigint=a;return b},U._is_native=!0,U.ONE=new U("1"),U.ZERO=new U("0"),U.prototype={modPow:function(a,b){return U._from_bigint(this._bigint.powm(a._bigint,b._bigint))},modPowInt:function(a,b){return this.modPow(U._from_bigint(c$(a)),b)},modInverse:function(a){return U._from_bigint(this._bigint.invertm(a._bigint))},equals:function(a){return this._bigint.eq(a._bigint)},multiply:function(a){return U._from_bigint(this._bigint.mul(a._bigint))},mod:function(a){return U._from_bigint(this._bigint.mod(a._bigint))},add:function(a){return U._from_bigint(this._bigint.add(a._bigint))},subtract:function(a){return U._from_bigint(this._bigint.sub(a._bigint))},bitLength:function(){return this._bigint.bitLength()},compareTo:function(a){return this._bigint.cmp(a._bigint)},toString:function(a){return this._bigint.toString(a||10)},gcd:function(a){return U._from_bigint(this._bigint.gcd(a._bigint))},isProbablePrime:function(a){return this._bigint.probPrime(a)},toBase64:function(){return this._bigint.toBuffer().toString("base64")}},U.fromBase64=function(a){var b=c$.fromBuffer(new Buffer(a,"base64"));return U._from_bigint(b)},cZ=U}catch(da){}c.BigInteger=U,c.sjcl=K,c.hex2b64=O,c.b64tohex=P,c.int2char=bc,c.hex_sha1=n,c.b64_sha1=o,c.window=h,c.navigator=g}),require.define("/lib/rng.js",function(a,b,c,d,e,f){function o(){var a=!1;try{a=!!window.crypto.getRandomValues}catch(b){}this.isSeeded=a}function n(){}var g=a("./utils"),h=g.delay,i=a("../libs/minimal"),j=i.sjcl,k=null;try{k=a("crypto")}catch(l){}var m=!!k;n.prototype={addEntropy:function(){},autoseed:function(a){a&&h(a)()},nextBytes:function(a){var b=k.randomBytes(a.length);for(var c=0;c<a.length;c++)a[c]=b[c]}},o.prototype={addEntropy:function(a){j.random.addEntropy(a,256),this.isSeeded=!0},autoseed:function(a){this.isSeeded=this.isSeeded||j.random.isReady();this.isSeeded?a&&h(a)():(j.random.addEventListener("seeded",function(){this.isSeeded=!0,a&&a()}),j.random.startCollectors())},nextBytes:function(a){var b=j.random.randomWords(a.length);for(var c=0;c<a.length;c++)a[c]=b[c]}},c.RNG=m?n:o}),require.define("/lib/version.js",function(a,b,c,d,e,f){function k(a){return function(){j.apply(null,Array.prototype.concat([this,a,c.getDataFormatVersion()],Array.prototype.slice.call(arguments)))}}function j(a,b,c){var d=c||"LEGACY";d=d.replace(/\./g,"");var e="_"+d+"_"+b;if(!a[e]){console.log(a);throw new Error("object has no method called "+e)}return a[e].apply(a,Array.prototype.slice.call(arguments).slice(3))}var g=["2012.08.15",""],h="",i=h;c.setDataFormatVersion=function(a){a===undefined&&(a=h);if(g.indexOf(a)===-1)throw new Error("no such version "+a+", only supported versions are "+g.join(","));i=a},c.getDataFormatVersion=function(){return i},c.dispatchOnDataFormatVersion=j,c.versionDispatcher=k}),require.define("/lib/assertion.js",function(a,b,c,d,e,f){function l(a){return i.dispatchOnDataFormatVersion(j,"extractAssertionParamsFrom",i.getDataFormatVersion(),a)}var g=a("./jwcrypto"),h=a("./utils"),i=a("./version"),j={};j._LEGACY_serializeAssertionParamsInto=function(a,b){b.iat=a.issuedAt?a.issuedAt.valueOf():undefined,b.exp=a.expiresAt?a.expiresAt.valueOf():undefined,b.iss=a.issuer,b.aud=a.audience},j._20120815_serializeAssertionParamsInto=function(a,b){this._LEGACY_serializeAssertionParamsInto(a,b);if(b.version){if(b.version!=="2012.08.15")throw new Error("cannot serialize an assertion in a different format than is prescribed by overlaying data structure, e.g. cert")}else b.version="2012.08.15"};var k=function(a,b){i.dispatchOnDataFormatVersion(j,"serializeAssertionParamsInto",i.getDataFormatVersion(),a,b)};j._LEGACY_extractAssertionParamsFrom=function(a){var b={};b.issuedAt=h.getDate(a.iat),b.expiresAt=h.getDate(a.exp),b.issuer=a.iss,b.audience=a.aud,delete a.iat,delete a.exp,delete a.iss,delete a.aud;return b},j._20120815_extractAssertionParamsFrom=function(a){delete a.version;var b=this._LEGACY_extractAssertionParamsFrom(a);return b},c.sign=function(a,b,c,d){var e={};h.copyInto(a,e),k(b,e),g.sign(e,c,d)},c.verify=function(a,b,c,d){g.verify(a,b,function(a,b){if(a)return d(a);var e=l(b);if(e.issuedAt&&e.issuedAt.valueOf()>c.valueOf())return d("issued later than verification date");if(e.expiresAt&&e.expiresAt.valueOf()<c.valueOf())return d("expired");d(null,b,e)})}}),require.define("/lib/cert.js",function(a,b,c,d,e,f){function q(a,b){a==="issued later than verification date"||a==="expired"?a=b+" "+a:a!=="malformed signature"&&(a="bad signature in chain");return a}function n(a,b){return k.dispatchOnDataFormatVersion(l,"extractCertParamsFrom",b.payload.version,a)}var g=a("./jwcrypto"),h=a("./assertion"),i=a("./utils"),j=i.delay,k=a("./version"),l={};l._LEGACY_serializeCertParamsInto=function(a,b){b["public-key"]=a.publicKey.toSimpleObject(),b.principal=a.principal},l._20120815_serializeCertParamsInto=function(a,b){b.publicKey=a.publicKey.toSimpleObject(),b.principal=a.principal,b.version="2012.08.15"};var m=function(a,b){k.dispatchOnDataFormatVersion(l,"serializeCertParamsInto",k.getDataFormatVersion(),a,b)};l._LEGACY_extractCertParamsFrom=function(a){var b={};b.publicKey=g.loadPublicKey(JSON.stringify(a["public-key"])),delete a["public-key"],b.principal=a.principal,delete a.principal;return b},l._20120815_extractCertParamsFrom=function(a){delete a.version;var b={};b.publicKey=g.loadPublicKey(JSON.stringify(a.publicKey)),delete a.publicKey,b.principal=a.principal,delete a.principal;return b},c.sign=function(a,b,c,d,e){var f={};i.copyInto(c||{},f),m(a,f),h.sign(f,b,d,e)};var o=function(a,b,c,d){h.verify(a,b,c,function(b,c,e){if(b)return d(b);var f=g.extractComponents(a),h=n(c,f);d(b,c,e,h)})};c.verify=o,c.bundle=function(a,b){if(!a||a.length===0)throw"certificates must be a non-empty array";return[].concat(a,b).join("~")},c.unbundle=function(a){var b=a.split("~"),c={};c.signedAssertion=b.pop(),c.certs=b;return c};var p=function(a,b,c,d){function h(c,d,e,f){o(a[c],d,b,function(b,d,g,i){if(b)return f(b);c+=1,e.push({payload:d,assertionParams:g,certParams:i}),c>=a.length?f(null,e,i.publicKey):j(h)(c,i.publicKey,e,f)})}if(!a.length)return j(d)("certs must be an array of at least one cert");var e;try{e=g.extractComponents(a[0]).payload.iss}catch(f){return j(d)("malformed signature")}c(e,function(a,b){if(a)return j(d)(a);h(0,b,[],function(a,b){if(a)return d(a);d(null,b)})})};c.verifyChain=p,c.verifyBundle=function(a,b,d,e){if(!(typeof a=="string"||a instanceof String))return j(e)("malformed backed assertion");var f=c.unbundle(a),g=f.signedAssertion,i=f.certs;if(i.length===0)return j(e)("no certificates provided");p(i,b,d,function(a,c){if(a)return e(q(a,"certificate"));var d=c[c.length-1].certParams.publicKey;h.verify(g,d,b,function(a,b,d){if(a)return e(q(a,"assertion"));e(null,c,b,d)})})}}),require.define("/lib/algs/ds.js",function(a,b,c,d,e,f){function v(a,b,c){this.x=a,c&&b&&(this.y=c.g.modPow(this.x,c.p),this.keysize=b,this.q=c.q,this.g=c.g,this.p=c.p)}function t(a,b,c){var d=o(a);if(!d)throw"keysize not supported: "+a.toString();var e=new g.KeyPair;e.keysize=a;var f=s(d.q,b);e.secretKey=new v(f,e.keysize,d),e.publicKey=new u(e.secretKey.y,e.keysize,d),e.publicKey.algorithm=e.secretKey.algorithm=e.algorithm="DS",c(null,e)}function s(a,b){return(new j(a.bitLength()+64,b)).mod(a.subtract(j.ONE)).add(j.ONE)}function r(a){for(var b in n){var c=n[b].p.bitLength(),d=c-a;if(d>=0&&d<30)return b}return null}function o(a){return n[parseInt(a,10)]}function m(a,b){while(a.length<b)a="0"+a;return a}function l(a,b){var c=k[a](b);return new j(c,"16")}var g=a("./index"),h=a("../../libs/minimal"),i=a("../version"),j=h.BigInteger,k={sha1:h.hex_sha1,sha256:function(a){return h.sjcl.codec.hex.fromBits(h.sjcl.hash.sha256.hash(a))}},n={128:{p:"ff600483db6abfc5b45eab78594b3533d550d9f1bf2a992a7a8daa6dc34f8045ad4e6e0c429d334eeeaaefd7e23d4810be00e4cc1492cba325ba81ff2d5a5b305a8d17eb3bf4a06a349d392e00d329744a5179380344e82a18c47933438f891e22aeef812d69c8f75e326cb70ea000c3f776dfdbd604638c2ef717fc26d02e17",q:"e21e04f911d1ed7991008ecaab3bf775984309c3",g:"c52a4a0ff3b7e61fdf1867ce84138369a6154f4afa92966e3c827e25cfa6cf508b90e5de419e1337e07a2e9e2a3cd5dea704d175f8ebf6af397d69e110b96afb17c7a03259329e4829b0d03bbc7896b15b4ade53e130858cc34d96269aa89041f409136c7242a38895c9d5bccad4f389af1d7a4bd1398bd072dffa896233397a",hashAlg:"sha1"},256:{p:"d6c4e5045697756c7a312d02c2289c25d40f9954261f7b5876214b6df109c738b76226b199bb7e33f8fc7ac1dcc316e1e7c78973951bfc6ff2e00cc987cd76fcfb0b8c0096b0b460fffac960ca4136c28f4bfb580de47cf7e7934c3985e3b3d943b77f06ef2af3ac3494fc3c6fc49810a63853862a02bb1c824a01b7fc688e4028527a58ad58c9d512922660db5d505bc263af293bc93bcd6d885a157579d7f52952236dd9d06a4fc3bc2247d21f1a70f5848eb0176513537c983f5a36737f01f82b44546e8e7f0fabc457e3de1d9c5dba96965b10a2a0580b0ad0f88179e10066107fb74314a07e6745863bc797b7002ebec0b000a98eb697414709ac17b401",q:"b1e370f6472c8754ccd75e99666ec8ef1fd748b748bbbc08503d82ce8055ab3b",g:"9a8269ab2e3b733a5242179d8f8ddb17ff93297d9eab00376db211a22b19c854dfa80166df2132cbc51fb224b0904abb22da2c7b7850f782124cb575b116f41ea7c4fc75b1d77525204cd7c23a15999004c23cdeb72359ee74e886a1dde7855ae05fe847447d0a68059002c3819a75dc7dcbb30e39efac36e07e2c404b7ca98b263b25fa314ba93c0625718bd489cea6d04ba4b0b7f156eeb4c56c44b50e4fb5bce9d7ae0d55b379225feb0214a04bed72f33e0664d290e7c840df3e2abb5e48189fa4e90646f1867db289c6560476799f7be8420a6dc01d078de437f280fff2d7ddf1248d56e1a54b933a41629d6c252983c58795105802d30d7bcd819cf6ef",hashAlg:"sha256"}};for(var p in n){var q=o(p);q.p=new j(q.p,"16"),q.q=new j(q.q,"16"),q.g=new j(q.g,"16"),q.q_bitlength=q.q.bitLength()}var u=function(a,b,c){this.y=a,b&&c&&(this.keysize=b,this.q=c.q,this.g=c.g,this.p=c.p)};u.prototype=new g.PublicKey,u.prototype._20120815_serializeToObject=function(a){a.version="2012.08.15",a.y=this.y.toBase64(),a.p=this.p.toBase64(),a.q=this.q.toBase64(),a.g=this.g.toBase64()},u.prototype._LEGACY_serializeToObject=function(a){a.y=this.y.toString(16),a.p=this.p.toString(16),a.q=this.q.toString(16),a.g=this.g.toString(16)},u.prototype.serializeToObject=i.versionDispatcher("serializeToObject"),u.prototype.equals=function(a){return a?a.algorithm===this.algorithm&&this.p.equals(a.p)&&this.y.equals(a.y)&&this.g.equals(a.g)&&this.q.equals(a.q):!1},u.prototype._LEGACY_deserializeFromObject=function(a){this.p=new j(a.p,16),this.q=new j(a.q,16),this.g=new j(a.g,16),this.y=new j(a.y,16)},u.prototype._20120815_deserializeFromObject=function(a){this.p=j.fromBase64(a.p),this.q=j.fromBase64(a.q),this.g=j.fromBase64(a.g),this.y=j.fromBase64(a.y)},u.prototype.deserializeFromObject=function(a){i.dispatchOnDataFormatVersion(this,"deserializeFromObject",a.version,a),this.keysize=r(this.y.bitLength());return this},v.prototype=new g.SecretKey,v.prototype._LEGACY_serializeToObject=function(a){a.x=this.x.toString(16),a.p=this.p.toString(16),a.q=this.q.toString(16),a.g=this.g.toString(16)},v.prototype._20120815_serializeToObject=function(a){a.version="2012.08.15",a.x=this.x.toBase64(),a.p=this.p.toBase64(),a.q=this.q.toBase64(),a.g=this.g.toBase64()},v.prototype.serializeToObject=i.versionDispatcher("serializeToObject"),v.prototype._LEGACY_deserializeFromObject=function(a){this.x=new j(a.x,16),this.p=new j(a.p,16),this.q=new j(a.q,16),this.g=new j(a.g,16)},v.prototype._20120815_deserializeFromObject=function(a){this.x=j.fromBase64(a.x),this.p=j.fromBase64(a.p),this.q=j.fromBase64(a.q),this.g=j.fromBase64(a.g)},v.prototype.deserializeFromObject=function(a){i.dispatchOnDataFormatVersion(this,"deserializeFromObject",a.version,a),this.keysize=r(this.p.bitLength());return this},v.prototype.sign=function(a,b,c,d){var e=o(this.keysize),f,g,h;for(;;){f=s(this.q,b),g=this.g.modPow(f,this.p).mod(this.q);if(g.equals(j.ZERO)){console.log("oops r is zero");continue}var i=l(e.hashAlg,a,this.q),k=i.add(this.x.multiply(g).mod(this.q)).mod(this.q);h=f.modInverse(this.q).multiply(k).mod(this.q);if(h.equals(j.ZERO)){console.log("oops s is zero");continue}break}var n=e.q_bitlength/4,p=m(g.toString(16),n)+m(h.toString(16),n);if(!c)return p;d(p)},u.prototype.verify=function(a,b,c){var d=o(this.keysize),e=d.q_bitlength/4;b=m(b,e*2);if(b.length!==e*2)return c("malformed signature");var f=new j(b.substring(0,e),16),g=new j(b.substring(e,e*2),16);if(f.compareTo(j.ZERO)<0||f.compareTo(this.q)>0)return c("invalid signature");if(g.compareTo(j.ZERO)<0||g.compareTo(this.q)>0)return c("invalid signature");var h=g.modInverse(this.q),i=l(d.hashAlg,a,this.q).multiply(h).mod(this.q),k=f.multiply(h).mod(this.q),n=this.g.modPow(i,this.p).multiply(this.y.modPow(k,this.p)).mod(this.p).mod(this.q);c(null,n.equals(f))},g.register("DS",{generate:t,PublicKey:u,SecretKey:v})}),require.define("/bundle.js",function(a,b,c,d,e,f){var g=a("./lib/jwcrypto");a("./lib/algs/ds")}),require("/bundle.js")